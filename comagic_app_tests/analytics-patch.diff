diff --git a/package.json b/package.json
index e8d0f3c..b3144c3 100644
--- a/package.json
+++ b/package.json
@@ -22,8 +22,6 @@
     "@types/lodash": "^4.14.159",
     "@types/moment": "^2.13.0",
     "@types/node": "^14.6.3",
-    "@types/react": "^18.0.20",
-    "@types/react-dom": "^18.0.6",
     "@types/react-list": "^0.8.7",
     "@types/react-resizable": "^3.0.3",
     "@types/react-resize-detector": "^6.1.0",
@@ -52,7 +50,6 @@
     "terser-webpack-plugin": "^5.1.4",
     "ts-import-plugin": "^2.0.0",
     "ts-loader": "^9.3.1",
-    "typescript": "^4.7.4",
     "url-loader": "^3.0.0",
     "webpack": "^5.72.0",
     "webpack-bundle-analyzer": "^4.4.0",
@@ -61,7 +58,6 @@
     "webpack-merge": "^5.7.3"
   },
   "dependencies": {
-    "@comagic/core": "^1.1.1",
     "antd": "^3.26.7",
     "axios": "^0.24.0",
     "classnames": "^2.2.6",
@@ -73,21 +69,16 @@
     "highcharts-react-official": "^3.0.0",
     "history": "^4.10.1",
     "lodash": "^4.17.20",
-    "magic-ui": "^2.14.11",
     "mobx": "^6.6.2",
     "mobx-react-lite": "^3.4.0",
     "mobx-state-tree": "^5.1.6",
     "moment": "^2.24.0",
-    "react": "^18.2.0",
     "react-animate-height": "^2.0.23",
     "react-dnd": "^14.0.5",
     "react-dnd-html5-backend": "^14.1.0",
-    "react-dom": "^18.2.0",
-    "react-intl": "^6.1.1",
     "react-list": "^0.8.17",
     "react-resizable": "^3.0.4",
     "react-resize-detector": "^7.1.2",
-    "react-router-dom": "^6.4.0",
     "wavesurfer.js": "^4.0.1",
     "yup": "^0.28.1"
   }
diff --git a/src/components/ShadowContent.ts b/src/components/ShadowContent.ts
deleted file mode 100644
index d4d3a63..0000000
--- a/src/components/ShadowContent.ts
+++ /dev/null
@@ -1,3 +0,0 @@
-export const getShadowRoot = (): HTMLElement => {
-    return document.body;
-};
diff --git a/src/models/RootStore.ts b/src/models/RootStore.ts
index f06dde6..16e0ae4 100644
--- a/src/models/RootStore.ts
+++ b/src/models/RootStore.ts
@@ -94,7 +94,9 @@ export type DependencyInjection = {
 export type RootInstance = Instance<typeof RootStore>;
 export const RootStoreContext = React.createContext<null | RootInstance>(null);
 export const Provider = RootStoreContext.Provider;
-export const rootStore = RootStore.create({}, { httpRpc });
+
+export let rootStore;
+export const createRootStore = () => (rootStore = RootStore.create({}, { httpRpc }));
 
 type RootInstanceSnapshotOut = SnapshotOut<typeof RootStore>;
 
diff --git a/src/models/reports/RootReportStore.ts b/src/models/reports/RootReportStore.ts
index 9d3cfd4..dd9aa89 100644
--- a/src/models/reports/RootReportStore.ts
+++ b/src/models/reports/RootReportStore.ts
@@ -48,7 +48,7 @@ export const RootReportStore = types
         sourcesStore: types.optional(SourcesStore, {}),
     })
     .views(self => {
-        const getReportRouterParams = (pathname = window.location.pathname) => {
+        const getReportRouterParams = (pathname = window.memoryHistory.location.pathname) => {
             const match = matchPath<RouterParams, string>(`${REPORT_PATH}/*`, pathname);
 
             return match?.params;
