diff --git a/package.json b/package.json
index 95e34e6..e3499e3 100644
--- a/package.json
+++ b/package.json
@@ -22,8 +22,6 @@
     "@types/dompurify": "^2.3.3",
     "@types/htmlparser2": "^3.10.3",
     "@types/node": "^14.14.37",
-    "@types/react": "^18.0.21",
-    "@types/react-dom": "^18.0.6",
     "@types/uuid": "^8.3.1",
     "@types/yup": "^0.29.11",
     "@typescript-eslint/eslint-plugin": "^4.16.1",
@@ -55,8 +53,7 @@
   },
   "dependencies": {
     "@babel/runtime": "^7.13.9",
-    "@comagic/core": "^1.1.1",
-    "antd": "^3.26.7",
+    "antd": "3.26.7",
     "async-mutex": "^0.3.2",
     "axios": "^0.21.1",
     "classnames": "^2.2.6",
@@ -67,16 +64,11 @@
     "formik": "^2.2.9",
     "html-react-parser": "^3.0.1",
     "madge": "^5.0.1",
-    "magic-ui": "^2.3.0",
     "mobx": "^6.6.1",
     "mobx-react-lite": "^3.4.0",
     "mobx-state-tree": "^5.1.6",
     "mobx-devtools-mst": "^0.9.30",
     "moment": "^2.29.1",
-    "react": "^18.2.0",
-    "react-dom": "^18.2.0",
-    "react-intl": "^6.1.1",
-    "react-router-dom": "^6.4.0",
     "short-uuid": "^4.2.0",
     "uuid": "^8.3.2",
     "yup": "^0.32.9"
diff --git a/src/App.tsx b/src/App.tsx
index 43db4d8..6a8f91e 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -9,7 +9,7 @@ import './App.less';
 
 const App: React.FC = observer(() => {
     const {
-        authStore: { updateAuthState },
+        authStore: { updateAuthState, isAuthorized },
         websocketStore,
         chatListStore,
         chatChannelsStore,
@@ -42,11 +42,11 @@ const App: React.FC = observer(() => {
         };
     });
 
-    return (
+    return [false, true].some(value => value === isAuthorized) ? (
         <div className="cm-app-module">
             <AppRoute />
         </div>
-    );
+    ) : null;
 });
 
 export default App;
diff --git a/src/components/chats/chat-panel/styles.less b/src/components/chats/chat-panel/styles.less
index f8e7ef2..70bc523 100644
--- a/src/components/chats/chat-panel/styles.less
+++ b/src/components/chats/chat-panel/styles.less
@@ -1,3 +1,55 @@
+@import '~antd/dist/antd.css';
+
+.@{p}chat-panel, .@{p}chat-like-panel {
+  .@{p}chat-panel-quote {
+    display: grid;
+    grid-template-columns: 24px auto 24px;
+    background-color: @surfaces-front;
+
+    &::before {
+      content: '';
+      grid-column: 1;
+      display: block;
+      width: 17px;
+      height: 17px;
+      margin-top: 3px;
+      background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.77735 4.91859C5.97261 4.72333 6.0692 4.45498 5.91603 4.22522C5.76285 3.99545 5.4485 3.92766 5.22265 4.08654C2 7.00195 2 7.50252 2 9.49847V9.50257L2 9.5055C2.00188 10.8532 3.07019 11.951 4.40632 12.0002C4.4374 12.0017 4.46863 12.0025 4.5 12.0025C5.88071 12.0025 7 10.8827 7 9.50194C7 8.12123 5.88071 7.00194 4.5 7.00194L4.47803 7.00203C4.28359 6.99347 4.16582 6.77236 4.28459 6.61818C4.58444 6.22896 5.10617 5.58977 5.77735 4.91859Z' fill='%235C5C5C'/%3E%3Cpath d='M12.7774 4.91859C12.9726 4.72333 13.0692 4.45498 12.916 4.22522C12.7628 3.99545 12.4485 3.92766 12.2226 4.08654C9 7.00195 9 7.50252 9 9.49847V9.50257L9 9.5055C9.00188 10.8532 10.0702 11.951 11.4063 12.0002C11.4374 12.0017 11.4686 12.0025 11.5 12.0025C12.8807 12.0025 14 10.8827 14 9.50194C14 8.12123 12.8807 7.00194 11.5 7.00194L11.478 7.00203C11.2836 6.99347 11.1658 6.77236 11.2846 6.61818C11.5844 6.22896 12.1062 5.58977 12.7774 4.91859Z' fill='%235C5C5C'/%3E%3C/svg%3E%0A");
+      background-size: contain;
+    }
+
+    .@{p}chat-panel-quote-owner-name {
+      grid-column: 2;
+      grid-row: 1;
+      font-size: 10px;
+      line-height: 24px;
+      color: @fonts-primary;
+    }
+
+    .@{p}chat-panel-quote-resource-name {
+      grid-column: 1 / 3;
+      grid-row: 2;
+      font-size: 13px;
+      line-height: 20px;
+      color: @fonts-primary;
+      font-weight: 500;
+      white-space: nowrap;
+      overflow: hidden;
+      text-overflow: ellipsis;
+    }
+
+    .@{p}chat-panel-quote-message {
+      grid-column: 1 / 3;
+      grid-row: 3;
+      font-size: 13px;
+      line-height: 20px;
+      color: @fonts-primary;
+      white-space: pre;
+      overflow: hidden;
+      text-overflow: ellipsis;
+    }
+  }
+}
+
 .@{p}chat-panel {
   width: 100%;
   height: 100%;
@@ -82,54 +134,6 @@
     }
   }
 
-  .@{p}chat-panel-quote {
-    display: grid;
-    grid-template-columns: 24px auto 24px;
-    background-color: @surfaces-front;
-
-    &::before {
-      content: '';
-      grid-column: 1;
-      display: block;
-      width: 17px;
-      height: 17px;
-      margin-top: 3px;
-      background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.77735 4.91859C5.97261 4.72333 6.0692 4.45498 5.91603 4.22522C5.76285 3.99545 5.4485 3.92766 5.22265 4.08654C2 7.00195 2 7.50252 2 9.49847V9.50257L2 9.5055C2.00188 10.8532 3.07019 11.951 4.40632 12.0002C4.4374 12.0017 4.46863 12.0025 4.5 12.0025C5.88071 12.0025 7 10.8827 7 9.50194C7 8.12123 5.88071 7.00194 4.5 7.00194L4.47803 7.00203C4.28359 6.99347 4.16582 6.77236 4.28459 6.61818C4.58444 6.22896 5.10617 5.58977 5.77735 4.91859Z' fill='%235C5C5C'/%3E%3Cpath d='M12.7774 4.91859C12.9726 4.72333 13.0692 4.45498 12.916 4.22522C12.7628 3.99545 12.4485 3.92766 12.2226 4.08654C9 7.00195 9 7.50252 9 9.49847V9.50257L9 9.5055C9.00188 10.8532 10.0702 11.951 11.4063 12.0002C11.4374 12.0017 11.4686 12.0025 11.5 12.0025C12.8807 12.0025 14 10.8827 14 9.50194C14 8.12123 12.8807 7.00194 11.5 7.00194L11.478 7.00203C11.2836 6.99347 11.1658 6.77236 11.2846 6.61818C11.5844 6.22896 12.1062 5.58977 12.7774 4.91859Z' fill='%235C5C5C'/%3E%3C/svg%3E%0A");
-      background-size: contain;
-    }
-
-    .@{p}chat-panel-quote-owner-name {
-      grid-column: 2;
-      grid-row: 1;
-      font-size: 10px;
-      line-height: 24px;
-      color: @fonts-primary;
-    }
-
-    .@{p}chat-panel-quote-resource-name {
-      grid-column: 1 / 3;
-      grid-row: 2;
-      font-size: 13px;
-      line-height: 20px;
-      color: @fonts-primary;
-      font-weight: 500;
-      white-space: nowrap;
-      overflow: hidden;
-      text-overflow: ellipsis;
-    }
-
-    .@{p}chat-panel-quote-message {
-      grid-column: 1 / 3;
-      grid-row: 3;
-      font-size: 13px;
-      line-height: 20px;
-      color: @fonts-primary;
-      white-space: pre;
-      overflow: hidden;
-      text-overflow: ellipsis;
-    }
-  }
-
   .@{p}upload-drag-message {
     height: 100%;
     width: 150px;
diff --git a/src/models/RootStore.ts b/src/models/RootStore.ts
index 83db7f5..a15e03a 100644
--- a/src/models/RootStore.ts
+++ b/src/models/RootStore.ts
@@ -144,7 +144,8 @@ export const RootStore = types
 export type RootInstance = Instance<typeof RootStore>;
 export const RootStoreContext = React.createContext<null | RootInstance>(null);
 export const Provider = RootStoreContext.Provider;
-export const rootStore = RootStore.create({});
+export let rootStore;
+export const createRootStore = () => (rootStore = RootStore.create({}));
 
 if (process.env.NODE_ENV === 'development') {
     window.chatsRootStore = rootStore;
diff --git a/src/models/account/AccountStore.ts b/src/models/account/AccountStore.ts
index 57ad272..166fd36 100644
--- a/src/models/account/AccountStore.ts
+++ b/src/models/account/AccountStore.ts
@@ -1,4 +1,4 @@
-import { flow, Instance, types, cast } from 'mobx-state-tree';
+import { flow, Instance, types, cast, getSnapshot } from 'mobx-state-tree';
 import { httpRpc, DataApiResponseResult } from '@/httpRpc';
 import { intl } from '@/i18n';
 
@@ -55,12 +55,18 @@ export const AccountStore = types
     })
     .views(self => ({
         getOtherEmployeeChatsAccess() {
-            const permission = [...self.account.permissions].find(item => item[0] === 'other_employee_chats_access');
-            return permission && permission[1] ? permission[1].is_select : false;
+            const permission = getSnapshot(self.account.permissions).other_employee_chats_access;
+            return permission?.is_select || false;
         },
         getTagsPermissions() {
-            const tagsPermissions = [...self.account.permissions].find(item => item[0] === 'tag_management')[1];
-            return tagsPermissions;
+            return (
+                getSnapshot(self.account.permissions).tag_management || {
+                    is_delete: false,
+                    is_insert: false,
+                    is_select: false,
+                    is_update: false,
+                }
+            );
         },
     }))
     .actions(self => {
diff --git a/src/models/auth/AuthStore.ts b/src/models/auth/AuthStore.ts
index 933fdb3..8e6f31d 100644
--- a/src/models/auth/AuthStore.ts
+++ b/src/models/auth/AuthStore.ts
@@ -26,7 +26,7 @@ const AUTH_KEY: string = process.env.REACT_APP_AUTH_COOKIE || '$REACT_APP_AUTH_C
 
 export const AuthStore = types
     .model('AuthStore', {
-        isAuthorized: types.optional(types.boolean, Boolean(false)),
+        isAuthorized: types.maybe(types.boolean),
         windowId: types.optional(types.string, generateTraceId('local')),
     })
     .views(() => ({
diff --git a/src/utils/index.tsx b/src/utils/index.tsx
index 94d4c43..31f4230 100644
--- a/src/utils/index.tsx
+++ b/src/utils/index.tsx
@@ -1,8 +1,8 @@
 import React from 'react';
 import { renderToStaticMarkup } from 'react-dom/server';
 import cn from 'classnames';
-import parse, { attributesToProps, domToReact, DOMNode } from 'html-react-parser';
-import DOMPurify from 'dompurify';
+//import parse, { attributesToProps, domToReact, DOMNode } from 'html-react-parser';
+//import DOMPurify from 'dompurify';
 import moment from 'moment';
 import short from 'short-uuid';
 import { intl } from '@/i18n';
@@ -114,8 +114,15 @@ type Options = {
     'max-age'?: number;
 };
 
+const isSoftphone = () => window.rootConfig?.appName == 'softphone',
+    prepareName = name => encodeURIComponent(name.replace(/([.$?*|{}()[\]\\/+^])/g, '\\$1'));
+
 export function getCookie(name: string): string {
-    const matches = new RegExp('(?:^|; )' + name.replace(/([.$?*|{}()[\]\\/+^])/g, '\\$1') + '=([^;]*)').exec(
+    if (isSoftphone()) {
+        return window.getElectronCookiesManager().getItem(name);
+    }
+
+    const matches = new RegExp('(?:^|; )' + prepareName(name) + '=([^;]*)').exec(
         document.cookie
     );
 
@@ -123,6 +130,11 @@ export function getCookie(name: string): string {
 }
 
 export function setCookie(name: string, value: string, options: Options = {}): void {
+    if (isSoftphone()) {
+        window.getElectronCookiesManager().setItem(name, value);
+        return;
+    }
+
     options = {
         path: '/',
         ...options,
@@ -132,7 +144,7 @@ export function setCookie(name: string, value: string, options: Options = {}): v
         options.expires = options.expires.toUTCString();
     }
 
-    let updatedCookie = encodeURIComponent(name) + '=' + encodeURIComponent(value);
+    let updatedCookie = prepareName(name) + '=' + encodeURIComponent(value);
 
     let optionKey: keyof Options;
     for (optionKey in options) {
@@ -140,7 +152,7 @@ export function setCookie(name: string, value: string, options: Options = {}): v
 
         const optionValue = options[optionKey];
         if (optionValue !== true) {
-            updatedCookie += '=' + (optionValue as string);
+            updatedCookie += '=' + optionValue;
         }
     }
 
@@ -148,6 +160,11 @@ export function setCookie(name: string, value: string, options: Options = {}): v
 }
 
 export function deleteCookie(name: string, options: Options = {}): void {
+    if (isSoftphone()) {
+        window.getElectronCookiesManager().removeItem(name);
+        return;
+    }
+
     setCookie(name, '', {
         'max-age': -1,
         ...options,
@@ -191,6 +208,7 @@ function generateUrl(url: string): string {
 }
 
 export function parseLinks(text: string): React.ReactNode[] {
+    return text;
     text = `${text || ''}`
         .split(' ')
         .map(string => (isUrl(string) ? generateUrl(string) : string))
