diff --git a/config/webpack.config.js b/config/webpack.config.js
index 0ccc4cb1..064e688a 100644
--- a/config/webpack.config.js
+++ b/config/webpack.config.js
@@ -6,8 +6,9 @@ const { BundleAnalyzerPlugin } = require('webpack-bundle-analyzer');
 const MiniCssExtractPlugin = require('mini-css-extract-plugin');
 const CssMinimizerPlugin = require('css-minimizer-webpack-plugin');
 const TerserPlugin = require('terser-webpack-plugin');
-const ExternalRemotesPlugin = require('external-remotes-plugin');
+//const ExternalRemotesPlugin = require('external-remotes-plugin');
 const CopyPlugin = require('copy-webpack-plugin');
+const hash = require('string-hash');
 
 const { ModuleFederationPlugin } = webpack.container;
 const pkgJson = require('../package.json');
@@ -17,6 +18,8 @@ const NODE_ENV = process.env.NODE_ENV || 'prod';
 const REACT_APP = /^REACT_APP_/i;
 
 const appDirectory = fs.realpathSync(process.cwd());
+const miscDirectory = `${appDirectory}/misc`;
+const magicUIDirectory = `${miscDirectory}/magic_ui`;
 const publicDir = path.resolve(appDirectory, 'public');
 const buildDir = path.resolve(appDirectory, 'build');
 const dotenv = path.resolve(appDirectory, '.env');
@@ -24,9 +27,20 @@ const isProductionMode = NODE_ENV !== 'development';
 const webpackMode = isProductionMode ? 'production' : 'development';
 const localIdentName = isProductionMode ? '[hash:base64]' : '[path][name]__[local]';
 const isBundleAnalyzerPlugin = false;
+const subModules = ['chats', 'analytics/frontend'];
 
 const lessLoader = {
     loader: 'less-loader',
+    options: {
+        lessOptions: {
+            modifyVars: {
+                'hack': `true; ${
+                    subModules.map(module => `@import "${miscDirectory}/${module}/theme/theme.less"`).join('; ')
+                }`,
+            },
+            javascriptEnabled: true,
+        },
+    },
 };
 
 const fontsOptions = isProductionMode
@@ -103,10 +117,11 @@ const webpackDefinePlugin = () => {
     return opts;
 };
 
-const cssLoaders = extra => {
+const cssLoaders = (extra, loaderParams = {}) => {
     const loaders = [
         {
             loader: isProductionMode ? MiniCssExtractPlugin.loader : 'style-loader',
+            ...loaderParams
         },
         {
             loader: 'css-loader',
@@ -210,7 +225,7 @@ const plugins = () => {
             ignoreOrder: true,
         }),
 
-        new ModuleFederationPlugin({
+        /*new ModuleFederationPlugin({
             name: 'shell',
             shared: getSharedDeps(),
             remotes: {
@@ -252,6 +267,11 @@ const plugins = () => {
             },
         }),
         new ExternalRemotesPlugin(),
+        }),*/
+
+        new webpack.optimize.LimitChunkCountPlugin({
+            maxChunks: 1
+        })
     ];
 
     if (isProductionMode) {
@@ -275,6 +295,17 @@ const plugins = () => {
     return pluginsList;
 };
 
+const createAliases = appDirectory => ({
+    '@': path.resolve(appDirectory, './src'),
+    '@models': path.resolve(appDirectory, './src/models'),
+    '@lib': path.resolve(appDirectory, './src/components/lib'),
+    '@hooks': path.resolve(appDirectory, './src/hooks'),
+});
+
+const iconsRegExp = new RegExp(
+    ['', '(softphone|softphone', 'src|call_history|uis_webrtc', 'src)', 'icons', ''].join('\\' + path.sep)
+);
+
 module.exports = {
     entry: './src/index.tsx',
     target: NODE_ENV == 'softphone' ? 'electron-renderer' : 'web',
@@ -296,6 +327,21 @@ module.exports = {
     module: {
         rules: [
             {
+                test: /\.js$/,
+                exclude: /node_modules(?!\/(uis-softphone|magic-ui)\/)/,
+                use: [{
+                    loader: 'babel-loader',
+                    options: {
+                        presets: ['@babel/preset-react', '@babel/preset-env'],
+                        comments: false,
+                        plugins: [
+                            '@babel/plugin-proposal-private-methods',
+                            '@babel/plugin-proposal-class-properties',
+                        ]
+                    }
+                }]
+            },
+            {
                 test: /\.(ts|tsx)$/,
                 use: {
                     loader: 'ts-loader',
@@ -303,7 +349,7 @@ module.exports = {
                         transpileOnly: true,
                     },
                 },
-                exclude: /node_modules/,
+                exclude: /node_modules(?!\/(uis-softphone|magic-ui)\/)/,
             },
             {
                 test: /\.css$/,
@@ -314,6 +360,29 @@ module.exports = {
                 use: cssLoaders(lessLoader),
             },
             {
+                test: /\.(sa|sc|c)ss$/,
+                include: `${magicUIDirectory}/src`,
+                use: [
+                    {
+                        loader: 'style-loader',
+                    },
+                    {
+                        loader: 'css-loader',
+                    },
+                    {
+                        loader: 'resolve-url-loader',
+                    },
+                    {
+                        loader: 'sass-loader',
+                        options: {
+                            sassOptions: {
+                                includePaths: [magicUIDirectory]
+                            }
+                        }
+                    },
+                ],
+            },
+            {
                 test: /\.(png|jpg)$/,
                 loader: 'url-loader',
                 options: {
@@ -329,6 +398,7 @@ module.exports = {
             },
             {
                 test: /\.svg(\?v=\d+\.\d+\.\d+)?$/,
+                exclude: iconsRegExp,
                 use: [
                     {
                         loader: '@svgr/webpack',
@@ -344,17 +414,148 @@ module.exports = {
                     },
                 ],
             },
+            {
+                test: iconsRegExp,
+                use: ({resource}) => [{
+                    loader: 'babel-loader',
+                    options: {
+                        presets: ['@babel/preset-react', '@babel/preset-env'],
+                        comments: false
+                    }
+                }, {
+                    loader: '@svgr/webpack',
+                    options: {
+                        babel: false,
+                        icon: true,
+                        svgoConfig: {
+                            plugins: [{
+                                cleanupIDs: {
+                                    prefix: `svg${hash(path.relative(__dirname, resource))}`,
+                                    force: true
+                                }
+                            }]
+                        }
+                    }
+                }]
+            },
+            {
+                test: require.resolve('janus-gateway'),
+                loader: 'exports-loader',
+                options: {
+                    exports: 'Janus'
+                }
+            },
         ],
     },
     resolve: {
         extensions: ['.tsx', '.ts', '.js'],
 
         alias: {
-            '@': path.resolve(appDirectory, './src'),
-            '@models': path.resolve(appDirectory, './src/models'),
-            '@lib': path.resolve(appDirectory, './src/components/lib'),
-            '@hooks': path.resolve(appDirectory, './src/hooks'),
+            '@comagic/core/lib': `${miscDirectory}/core/src`,
+            ...createAliases(appDirectory),
+            'contacts/Root': `${miscDirectory}/contacts/src/Root.tsx`,
+            'contacts/ContactBar': `${miscDirectory}/contacts/src/components/contact-bar/ContactBarWrapper.tsx`,
+            'leadgen/Root': `${miscDirectory}/Stub.js`,
+            'softphone/Root': 'softphone/src/Root.tsx',
+            'softphone/Account': 'softphone/src/Account.tsx',
+            'softphone/Settings': 'softphone/src/Settings.tsx',
+            'softphone/CallHistory': 'softphone/src/call_history/index.tsx',
+            'softphone/CallStats': 'softphone/src/call_stats/index.tsx',
+            'softphone/LostCallsCount': 'softphone/src/call_history/counter.tsx',
+            'chats/Root': 'chats/src/Root.tsx',
+            'chats/Account': 'chats/src/components/account/index.tsx',
+            'chats/BasicAccount': 'chats/src/components/account/BasicAccount.tsx',
+            'chats/ReportChatHistoryDrawer': 'chats/src/components/chats/chat-panel/ReportChatHistoryDrawer.tsx',
+            'chats/HistoryLogWrapped': 'chats/src/components/chats/chat-panel/HistoryLogWrapped.tsx',
+            'chats/AudioPlayerWrapped': 'chats/src/components/chats/chat-panel/AudioPlayerWrapped.tsx',
+            'chats/MessageWrapped': 'chats/src/components/chats/chat-panel/MessageWrapped.tsx',
+            'chats/QuoteWrapped': 'chats/src/components/chats/chat-panel/QuoteWrapped.tsx',
+            'chats/HistoryItemWrapped': 'chats/src/components/offline-messages/panel/HistoryItemWrapped.tsx',
+            'chats/Menu': 'chats/src/components/main/menu/index.tsx',
+            'chats/NotificationWrapper': `${miscDirectory}/Stub.js`,
+            'chats/Counter': 'chats/src/components/chats/chat-panel/Counter.tsx',
+            'chats/MenuItemCounter': 'chats/src/components/main/menu/counter.tsx',
+            'chatsDistribution/Root': `${miscDirectory}/Stub.js`,
+            'callTracking/CalltrackingSubstitutionControl': `${miscDirectory}/Stub.js`,
+            'callTracking/CalltrackingTrafficControl': `${miscDirectory}/Stub.js`,
+            'callTracking/CalltrackingNumbers': `${miscDirectory}/Stub.js`,
+            'callTracking/CalltrackingSubstitutionRules': `${miscDirectory}/Stub.js`,
+            'callTracking/NumberPools': `${miscDirectory}/Stub.js`,
+            'callTracking/Sites': `${miscDirectory}/Stub.js`,
+            'callTracking/SitesV3': `${miscDirectory}/Stub.js`,
+            'callTracking/Root': `${miscDirectory}/Stub.js`,
+            'callTracking/SiteForm': `${miscDirectory}/Stub.js`,
+            'analytics/CreateDashboardButton': `${miscDirectory}/Stub.js`,
+            'analytics/AdAnalytics': `${miscDirectory}/Stub.js`,
+            'analytics/CreateReport': `${miscDirectory}/Stub.js`,
+            'analytics/Dashboards/ChiefDashboard': `${miscDirectory}/Stub.js`,
+            'analytics/Communications': `${miscDirectory}/Stub.js`,
+            'analytics/Dashboards/Dashboard': `${miscDirectory}/Stub.js`,
+            'analytics/DealsAnalytics': `${miscDirectory}/Stub.js`,
+            'analytics/Deals': `${miscDirectory}/Stub.js`,
+            'analytics/Leads': `${miscDirectory}/Stub.js`,
+            'analytics/Dashboards/MarketerDashboard': `${miscDirectory}/Stub.js`,
+            'analytics/SharedReport': `${miscDirectory}/Stub.js`,
+            'analytics/cancelPendingRequests': `${miscDirectory}/Stub.js`,
+            'analytics/ReportTable': `${miscDirectory}/Stub.js`,
+            'analytics/CalendarButton': `${miscDirectory}/Stub.js`,
+            'analytics/RadioButton': `${miscDirectory}/Stub.js`,
+            'analytics/RadioGroup': `${miscDirectory}/Stub.js`,
+            'analytics/Monitoring': `${miscDirectory}/Stub.js`,
+            'supervisorWorkplace/Root': `${miscDirectory}/Stub.js`,
+            'supervisorWorkplace/Menu': `${miscDirectory}/Stub.js`,
+            'supervisorWorkplace/NotificationWorkplace': `${miscDirectory}/Stub.js`,
+            'marketplace/Auth': `${miscDirectory}/Stub.js`,
+            'marketplace/Root': `${miscDirectory}/Stub.js`
         },
+
+        plugins: [{
+            apply: resolver => resolver.getHook('resolve').tapAsync('RelativeAliasResolvingPlugin', (
+                request,
+                resolveContext,
+                callback
+            ) =>  {
+                const target = resolver.ensureHook('resolve'),
+                    requestPath = request.request,
+                    splitted = requestPath.split('/');
+
+                if (requestPath.indexOf('magic-ui/lib') === 0) {
+                    splitted[1] = 'src';
+                } else if (['~magic-ui/lib/styles.css', '~@comagic/core/lib/styles.css'].includes(requestPath)) {
+                    splitted.splice(0, splitted.length);
+                    splitted.push(miscDirectory, 'stub.css');
+                } else {
+                    const {
+                        directory,
+                        aliases
+                    } = subModules.concat(['softphone', 'contacts']).map(module => {
+                        const directory = `${miscDirectory}/${module}`;
+
+                        return {
+                            directory,
+                            aliases: createAliases(directory)
+                        };
+                    }).find(({
+                        directory,
+                        aliases
+                    }) => request.path.indexOf(directory) === 0 && Object.keys(aliases).some(
+                        alias => splitted[0] == alias
+                    )) || {};
+
+                    if (!directory) {
+                        callback();
+                        return;
+                    }
+
+                    splitted[0] = aliases[splitted[0]]
+                }
+
+                return resolver.doResolve(target, {
+                    ...request,
+                    request: splitted.join('/') 
+                }, null, resolveContext, callback);
+            }),
+        }],
     },
     output: {
         clean: true,
diff --git a/package.json b/package.json
index fd2a634b..645c0de9 100644
--- a/package.json
+++ b/package.json
@@ -67,12 +67,17 @@
     "webpack-merge": "^5.7.3"
   },
   "dependencies": {
-    "@comagic/core": "^1.2.8",
-    "@sentry/react": "^6.17.6",
-    "@sentry/tracing": "^6.17.6",
+    "@comagic/core": "./misc/core",
+    "@comagic/softphone-widget": "./misc/softphone/misc/sip_lib",
+    "@comagic/softphone-core": "./misc/softphone/misc/sip_lib/uis_webrtc",
+    "@sentry/react": "^6.19.4",
+    "@sentry/tracing": "^6.19.4",
+    "@uiscom/uis_webrtc": "./misc/softphone/misc/sip_lib/uis_webrtc",
     "archiver": "^5.3.0",
     "auto-launch": "^5.0.5",
     "axios": "^0.24.0",
+    "babel-loader": "^8.0.4",
+    "chats": "./misc/chats",
     "classnames": "^2.2.6",
     "dotenv": "^8.2.0",
     "dotenv-expand": "^5.1.0",
@@ -84,7 +89,7 @@
     "formik": "^2.2.9",
     "history": "^5.3.0",
     "lodash.clonedeep": "^4.5.0",
-    "magic-ui": "git+https://magic-ui:9d_M4ruzxtnTCt__5qs1@gitlab.uis.dev/web/magic_ui.git#int_2022_13.0",
+    "magic-ui": "./misc/magic_ui",
     "mobx": "^6.6.1",
     "mobx-react-lite": "^3.4.0",
     "mobx-state-tree": "^5.1.6",
@@ -93,6 +98,11 @@
     "react-dom": "^18.2.0",
     "react-intl": "^6.0.5",
     "react-router-dom": "^6.4.0",
+    "simplebar-react": "^2.4.1",
+    "softphone": "./misc/softphone",
+    "uis-softphone": "./misc/softphone/misc/sip_lib",
+    "string-hash": "^1.1.3",
+    "contacts": "./misc/contacts",
     "stream-buffers": "^3.0.2",
     "yup": "^0.28.1"
   },
diff --git a/public/index.html b/public/index.html
index a82eebad..59a999e3 100644
--- a/public/index.html
+++ b/public/index.html
@@ -23,7 +23,29 @@
     })(window, document, 'script', 'dataLayer', 'GTM-TJXG5CR');</script>
     <!-- End Google Tag Manager -->
     <% } %>
-    <script>window.rootConfig = <%= rootConfig %>;</script>
+    <script src="/tests/utils/jasmine/lib/jasmine-3.4.0/jasmine.js"></script>
+    <script src="/tests/utils/jasmine/lib/jasmine-3.4.0/jasmine-html.js"></script>
+    <script>
+        var windowLoadHandler = window.onload;
+    </script>
+    <script src="/tests/utils/jasmine/lib/jasmine-3.4.0/boot.js"></script>
+    <script>
+        window.onload = windowLoadHandler;
+    </script>
+    <script src="/tests/utils/jasmine/lib/jasmine-ajax/lib/mock-ajax.js"></script>
+    <script src="/tests/utils/jasmine/console-reporter.js"></script>
+    <script src="/tests/utils/js-tester.js"></script>
+    <script type="text/javascript">
+        var tests = new JsTester_Tests(new JsTester_Factory());
+        tests.exposeDebugUtils('jsTestDebug');
+    </script>
+    <script src="/tests/utils/require.js"></script>
+    <script src="/tests/{script}.js"></script>
+    <style>
+        #root {
+            position: static !important;
+        }
+    </style>
 </head>
 <body class="cm-body">
     <% if (htmlWebpackPlugin.options.env.production) { %>
@@ -35,5 +57,6 @@
     <% } %>
     <noscript>You need to enable JavaScript to run this app.</noscript>
     <div id="root"></div>
+    <script src="/tests/utils/tests.js"></script>
 </body>
 </html>
\ No newline at end of file
diff --git a/scripts/dev.js b/scripts/dev.js
index 54c1319c..abc75561 100644
--- a/scripts/dev.js
+++ b/scripts/dev.js
@@ -12,7 +12,8 @@ const compiler = webpack(configFactory);
 const devServer = new WebpackDevServer(
     {
         port: parseInt(process.env.PORT, 10) || 8080,
-        hot: true,
+        hot: false,
+        liveReload: false,
         headers: { 'Access-Control-Allow-Origin': '*' },
         historyApiFallback: true,
     },
diff --git a/src/bootstrap.tsx b/src/bootstrap.tsx
index 600884d5..5c894b3b 100644
--- a/src/bootstrap.tsx
+++ b/src/bootstrap.tsx
@@ -1,13 +1,18 @@
-import { CoreProvider } from '@comagic/core';
+import { CoreProvider, eventBus } from '@comagic/core';
 import * as Sentry from '@sentry/react';
 import { Integrations } from '@sentry/tracing';
 import { observer } from 'mobx-react-lite';
 import React, { useEffect } from 'react';
+import ReactDOM from 'react-dom';
 import { createRoot } from 'react-dom/client';
 import { IntlProvider } from 'react-intl';
 import { unstable_HistoryRouter as HistoryRouter } from 'react-router-dom';
+import { notification } from 'magic-ui';
 
-import { Provider, rootStore } from '@models/RootStore';
+import { Provider, rootStore, createRootStore } from '@models/RootStore';
+import { createRootStore as createSoftphoneRootStore } from 'softphone/src/models/RootStore';
+import { createRootStore as createChatsRootStore } from 'chats/src/models/RootStore';
+import { createRootStore as createContactsRootStore } from 'contacts/src/models/RootStore';
 
 import history from '@/history';
 
@@ -78,7 +83,52 @@ const Root: React.FC = observer(props => {
     );
 });
 
-const container = document.getElementById('root');
-const root = createRoot(container);
+const TestBody = ({children}) => <div className="cm-test-body">{children}</div>,
+    Window = ({children}) => <div className="cm-test-window">{children}</div>;
 
-root.render(<Root {...(window.rootConfig || {})}/>);
+const units = {};
+let root;
+
+window.application = {
+    run({
+        setReactDOM = () => null,
+        setEventBus = () => null,
+        setHistory = () => null,
+        setChatsRootStore = () => null,
+        setNotification = () => null,
+        appName = ''
+    }) {
+        const Unit = units[appName];
+
+        if (!Unit) {
+            setReactDOM(ReactDOM);
+            setEventBus(eventBus);
+            createRootStore();
+            setChatsRootStore(createChatsRootStore());
+            createSoftphoneRootStore();
+            createContactsRootStore();
+            setHistory(history);
+            setNotification(notification);
+        }
+         
+        this.exit();
+
+        const container = document.createElement('div');
+        container.id = 'root';
+        document.body.appendChild(container);
+
+        root = createRoot(container);
+        root.render(Unit ? <TestBody><Unit /></TestBody> : <Root appName={appName} />);
+    },
+
+    exit() {
+        const container = document.getElementById('root');
+
+        if (!container) {
+            return;
+        }
+
+        container.firstChild && root && root.unmount();
+        container.remove();
+    }
+};
diff --git a/src/models/RootStore.ts b/src/models/RootStore.ts
index 17d9d435..d3dc0b4c 100644
--- a/src/models/RootStore.ts
+++ b/src/models/RootStore.ts
@@ -39,55 +39,6 @@ const getIpcRender = () => (
     send: () => null
 };
 
-const createSoftphoneStoreCreatingHandler = rootStore => {
-    let isLargeCurrently = false;
-
-    let handleStoreCreating = store => {
-        [{
-            channelName: 'checkautolauncher',
-            paramName: 'isStartApp',
-            setParamValue: 'setStartApp'
-        }, {
-            channelName: 'checkstartminimize',
-            paramName: 'isStartMinimize',
-            setParamValue: 'setStartMinimize'
-        }].forEach(({channelName, paramName, setParamValue}) =>
-            getIpcRender().on(channelName, (event, data) => store[setParamValue]((data || {})[paramName])));
-
-        getIpcRender().send('app-ready');
-
-        getIpcRender().on('update-downloaded', () => store.showMessage({
-            id: 'update-downloaded',
-            title: 'Update received',
-            buttons: [{
-                id: 'update',
-                text: 'Update',
-                handler: () => getIpcRender().send('quit-and-install')
-            }]
-        }));
-
-        getIpcRender().on('maximize', () => store.setIsLarge());
-        getIpcRender().on('unmaximize', () => store.setNotLarge());
-
-        store.onLargenessChange(isLarge => {
-            rootStore.setLarge(isLarge);
-
-            isLarge != isLargeCurrently && getIpcRender().send(isLarge ? 'maximize' : 'unmaximize');
-            isLargeCurrently = isLarge;
-        });
-
-        store.onApplicationChangeChanger(data => getIpcRender().send(
-            'application-version-changed',
-            data?.params?.application_version
-        ));
-
-        store.onSizeChange(size => getIpcRender().send('resize', size));
-        handleStoreCreating = () => null;
-    };
-
-    return store => handleStoreCreating(store);
-};
-
 const log = (...messages) => getIpcRender().send('log', messages.map(
     message => typeof message == 'object' ? JSON.stringify(message) : `${message}`
 ).join(' ').trim());
@@ -100,7 +51,7 @@ window.addEventListener('error', function(event) {
 export const RootStore = types
     .model('RootStore', {
         isSoftphoneVisible: types.optional(types.boolean, true),
-        isLarge: types.optional(types.boolean, false),
+        isMaximized: types.optional(types.boolean, false),
         isGodMode: types.optional(types.boolean, isGodMode()),
         isIpDisallowed: types.optional(types.boolean, false),
         isLogDownloading: types.optional(types.boolean, false),
@@ -239,7 +190,7 @@ export const RootStore = types
                 }
             );
 
-            axios.interceptors.response.use(
+            window.axiosInterceptors = axios.interceptors.response.use(
                 response => {
                     logRequest({response});
 
@@ -286,8 +237,6 @@ export const RootStore = types
             );
         };
 
-        let setAppStore = () => null;
-
         const downloadLog = () => {
             self.isLogDownloading = true;
             getIpcRender().send('collect_logs');
@@ -302,24 +251,66 @@ export const RootStore = types
         };
 
         const afterCreate = () => {
+            window.axiosInterceptors !== undefined && axios.interceptors.response.eject(window.axiosInterceptors);
+
+            let isMaximizedCurrently = false;
             removeSubscriptions();
 
-            initialState = getSnapshot(self);
+            const maximizednessChangeHandler = (isMaximized: boolean) => {
+                self.setMaximized(isMaximized);
+
+                isMaximized !== isMaximizedCurrently && getIpcRender().send(isMaximized ? 'maximize' : 'unmaximize');
+                isMaximizedCurrently = isMaximized;
+            };
 
             setHttpRequestsDefault();
 
-            getIpcRender().on('logs_collected', (event, data) => self.handleLogsCollected(data));
-            setAppStore = createSoftphoneStoreCreatingHandler(self);
+            subscribe('call_start', (toTopOnCall: string) => {
+                getIpcRender().send('call-start', toTopOnCall);
+                toTopOnCall && self.setSoftphoneVisiblity(true);
+            });
+
+            subscribe('call_end', (closeOnCallEnd: string) => {
+                getIpcRender().send('call-end', closeOnCallEnd);
+                closeOnCallEnd && self.setSoftphoneVisiblity(false);
+            });
+
+            subscribe('log', log);
+            subscribe('collect_logs', () => self.downloadLog());
+            subscribe('quit_and_install', () => getIpcRender().send('quit-and-install'));
+            subscribe('maximize', () => maximizednessChangeHandler(true));
+            subscribe('unmaximize', () => maximizednessChangeHandler(false));
+            subscribe('resize', size => getIpcRender().send('resize', size));
+            subscribe('startminimizechange', value => getIpcRender().send('startminimizechange', value));
+            subscribe('autolauncherchange', value => getIpcRender().send('autolauncherchange', value));
+
+            subscribe('app_ready', () => {
+                getIpcRender().on('checkautolauncher', (event, data) =>
+                    eventBus.broadcast('checkautolauncher', (data as { isStartApp: boolean }).isStartApp));
+
+                getIpcRender().on('checkstartminimize', (event, data) =>
+                    eventBus.broadcast('checkstartminimize', (data as { isStartMinimize: boolean }).isStartMinimize)
+                );
+
+                getIpcRender().on('update-downloaded', () => eventBus.broadcast('update_downloaded'));
+                getIpcRender().on('maximize', () => eventBus.broadcast('maximize'));
+                getIpcRender().on('unmaximize', () => eventBus.broadcast('unmaximize'));
+
+                getIpcRender().send('app-ready');
+            });
+
+            initialState = getSnapshot(self);
+            getIpcRender().on('logs_collected', (event, data) => self.handleLogsCollected(data as BlobPart));
         };
 
         const resetStore = () => {
             applySnapshot(self, {
-                initialState,
-                isLarge: self.isLarge
+                ...initialState,
+                isMaximized: self.isMaximized
             });
         };
 
-        const setLarge = value => (self.isLarge = value);
+        const setMaximized = value => (self.isMaximized = value);
 
         self.fileLogger = {
             downloadLog: () => self.downloadLog(),
@@ -329,10 +320,9 @@ export const RootStore = types
         return {
             afterCreate,
             resetStore,
-            setLarge,
+            setMaximized,
             downloadLog,
             handleLogsCollected,
-            setAppStore: store => setAppStore(store),
             toggleSoftphoneVisiblity,
             setSoftphoneVisiblity,
         };
@@ -345,7 +335,8 @@ export type DependencyInjection = {
 export type RootInstance = Instance<typeof RootStore>;
 export const RootStoreContext = React.createContext<null | RootInstance>(null);
 export const Provider = RootStoreContext.Provider;
-export const rootStore = RootStore.create({}, { httpRpc, httpRpcAuth });
+export let rootStore;
+export const createRootStore = () => (rootStore = RootStore.create({}, { httpRpc, httpRpcAuth }));
 
 type RootInstanceSnapshotOut = SnapshotOut<typeof RootStore>;
 
diff --git a/src/models/auth/AuthStore.ts b/src/models/auth/AuthStore.ts
index 2568744f..08552ce9 100644
--- a/src/models/auth/AuthStore.ts
+++ b/src/models/auth/AuthStore.ts
@@ -4,8 +4,7 @@ import { flow, getEnv, getRoot, types } from 'mobx-state-tree';
 
 import { getProject } from '@/i18n';
 import { cancelPendingRequests } from '@/rpc/httpRpc';
-import { deleteCookie, getCookie, setCookie } from '@/utils';
-import { generateTraceId } from '@/utils';
+import { generateTraceId, deleteCookie, getCookie, setCookie } from '@/utils';
 import { Options } from '@/utils/cookie';
 
 import { RootStore } from '../RootStore';
@@ -93,7 +92,7 @@ const removeToken = (skipLocalStorage = false) => {
 
 export const AuthStore = Loader.named('AuthStore')
     .props({
-        isAuthorized: types.optional(types.boolean, Boolean(getToken())),
+        isAuthorized: types.optional(types.boolean, false),
         isTokenRefreshing: types.optional(types.boolean, false),
         windowId: types.optional(types.string, generateTraceId('local')),
     })
@@ -188,6 +187,8 @@ export const AuthStore = Loader.named('AuthStore')
         });
 
         const afterCreate = () => {
+            setAuthorized(Boolean(getToken()));
+
             window.addEventListener('doLogoutUser', (event: CustomEvent) => {
                 const eventWindowId = event.detail;
                 if (eventWindowId !== authStore.windowId) {
diff --git a/src/rpc/httpRpc.ts b/src/rpc/httpRpc.ts
index 8c0a28d7..ce190fe9 100644
--- a/src/rpc/httpRpc.ts
+++ b/src/rpc/httpRpc.ts
@@ -25,10 +25,11 @@ export type HttpRpc = <T>(
 
 const baseUrl: string = process.env.REACT_APP_BASE_URL || '$REACT_APP_BASE_URL';
 
-let cancelTokenSource: CancelTokenSource = axios.CancelToken.source();
+let cancelTokenSource: CancelTokenSource = null;
+const getCancelTokenSource = () => cancelTokenSource || (cancelTokenSource = axios.CancelToken.source());
 
 export const cancelPendingRequests = (message?: string): void => {
-    cancelTokenSource.cancel(message);
+    getCancelTokenSource().cancel(message);
     cancelTokenSource = axios.CancelToken.source();
 };
 
@@ -45,7 +46,7 @@ const httpRpc: HttpRpc = async <T>(method: string, params = {}, headers = {}, ur
         data: rpcParams,
         url: `${url}?method=${method}`,
         headers,
-        cancelToken: cancelTokenSource.token,
+        cancelToken: getCancelTokenSource().token,
     };
 
     try {
diff --git a/src/utils/cookie.ts b/src/utils/cookie.ts
index 9882b7ef..41a232d5 100644
--- a/src/utils/cookie.ts
+++ b/src/utils/cookie.ts
@@ -6,7 +6,7 @@ export type Options = {
     'max-age'?: number;
 };
 
-const isSoftphone = () => window.rootConfig?.appName == 'softphone';
+const isElectron = () => typeof window.process?.versions?.electron === 'string';
 
 const resetElectronCookiesManager = () => {
     let electronCookies = window.localStorage.getItem('electronCookies');
@@ -39,14 +39,16 @@ const resetElectronCookiesManager = () => {
     return electronCookiesManager;
 };
 
+window.resetElectronCookiesManager = resetElectronCookiesManager;
 window.getElectronCookiesManager = resetElectronCookiesManager;
+const prepareName = name => encodeURIComponent(name.replace(/([.$?*|{}()[\]\\/+^])/g, '\\$1'));
 
 export function getCookie(name: string): string {
-    if (isSoftphone()) {
+    if (isElectron()) {
         return window.getElectronCookiesManager().getItem(name);
     }
 
-    const matches = new RegExp('(?:^|; )' + name.replace(/([.$?*|{}()[\]\\/+^])/g, '\\$1') + '=([^;]*)').exec(
+    const matches = new RegExp('(?:^|; )' + prepareName(name) + '=([^;]*)').exec(
         document.cookie
     );
 
@@ -54,7 +56,7 @@ export function getCookie(name: string): string {
 }
 
 export function setCookie(name: string, value: string, options: Options = {}): void {
-    if (isSoftphone()) {
+    if (isElectron()) {
         window.getElectronCookiesManager().setItem(name, value);
         return;
     }
@@ -68,7 +70,7 @@ export function setCookie(name: string, value: string, options: Options = {}): v
         options.expires = options.expires.toUTCString();
     }
 
-    let updatedCookie = encodeURIComponent(name) + '=' + encodeURIComponent(value);
+    let updatedCookie = prepareName(name) + '=' + encodeURIComponent(value);
 
     let optionKey: keyof Options;
     for (optionKey in options) {
@@ -84,7 +86,7 @@ export function setCookie(name: string, value: string, options: Options = {}): v
 }
 
 export function deleteCookie(name: string, options: Options = {}): void {
-    if (isSoftphone()) {
+    if (isElectron()) {
         window.getElectronCookiesManager().removeItem(name);
         return;
     }
