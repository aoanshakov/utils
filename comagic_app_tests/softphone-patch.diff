diff --git a/package.json b/package.json
index 722f2d1..aa2f663 100644
--- a/package.json
+++ b/package.json
@@ -55,7 +55,7 @@
   "dependencies": {
     "nanoid": "2.1.11",
     "@babel/runtime": "^7.13.9",
-    "antd": "^4.13.0",
+    "antd": "3.26.7",
     "async-mutex": "^0.3.2",
     "axios": "^0.21.1",
     "classnames": "^2.2.6",
@@ -64,7 +64,6 @@
     "filesize": "^8.0.3",
     "formik": "^2.2.9",
     "history": "^4.10.1",
-    "magic-ui": "git+https://magic-ui:9d_M4ruzxtnTCt__5qs1@gitlab.uis.dev/web/magic_ui.git#1.2.11",
     "mobx": "^6.1.8",
     "mobx-react-lite": "^3.2.0",
     "mobx-state-tree": "^5.0.1",
@@ -79,6 +78,6 @@
     "short-uuid": "^4.2.0",
     "uuid": "^8.3.2",
     "yup": "^0.32.9",
-    "uis-softphone": "0.0.161"
+    "uis-softphone": "./misc/sip_lib"
   }
 }
diff --git a/src/models/RootStore.ts b/src/models/RootStore.ts
index 3dd02fd..b928155 100644
--- a/src/models/RootStore.ts
+++ b/src/models/RootStore.ts
@@ -52,7 +52,8 @@ export const RootStore = types
         const afterCreate = () => {
             const SET_SOFTPHONE_HOST = 'SET_SOFTPHONE_HOST',
                 requests = [],
-                i18n = createI18N();
+                i18n = createI18N(),
+                isSingleApp = window.rootConfig?.appName == 'softphone';
 
             let handleIncomingCall = () => null;
 
@@ -78,7 +79,7 @@ export const RootStore = types
                 mayHideSoftphone: () => () => true,
                 getPhoneNumber: () => () => '',
                 createSlavesNotification: () => state => ({}),
-                getWebRTCConfig: () => () => window.rootConfig?.appName == 'softphone' ? {
+                getWebRTCConfig: () => () => isSingleApp ? {
                     createFileLogger: () => ({
                         downloadLog: () => fileLogger.downloadLog(),
                         log: (...messages) => fileLogger.log(...messages)
@@ -210,14 +211,23 @@ export const RootStore = types
                 });
 
                 self.handleAccountFetched = ({
-                    account: { permissions },
-                    hasFeatureFlag
-                }) => updateState({
-                    accessGranted: !!(
+                    authStore: { fetchLogoutUser },
+                    accountStore: {
+                        account: {
+                            app_id,
+                            permissions
+                        },
+                        hasFeatureFlag
+                    }
+                }) => {
+                    const accessGranted = !!(
                         permissions.get('softphone_login')?.is_select &&
                         hasFeatureFlag('softphone')
-                    )
-                });
+                    );
+
+                    updateState({accessGranted});
+                    app_id && isSingleApp && !accessGranted && fetchLogoutUser();
+                };
 
                 window.addEventListener('tokenChange', () => updateState(getTokenParams()));
 
@@ -262,4 +272,5 @@ export const RootStore = types
 export type RootInstance = Instance<typeof RootStore>;
 export const RootStoreContext = React.createContext<null | RootInstance>(null);
 export const Provider = RootStoreContext.Provider;
-export const rootStore = RootStore.create({});
+export let rootStore;
+export const createRootStore = () => (rootStore = RootStore.create({}));
